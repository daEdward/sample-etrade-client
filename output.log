edw@puter sample-etrade-client % python3 sample.py

1)	Sandbox Consumer Key
2)	Live Consumer Key
3)	Exit
Please select Consumer Key Type: 1

Please accept agreement and enter text code from browser: K8AU2

Request URL: https://apisb.etrade.com/v1/accounts/list
Request Header: {'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'accept': 'application/json', 'Connection': 'keep-alive', 'content-type': 'application/json', 'Authorization': 'OAuth realm="",oauth_consumer_key="446d4733ce18ece2205c1e1ee1d4578e",oauth_nonce="8489d0ba8648af8134f38297c31d63d3ad040fad",oauth_signature_method="HMAC-SHA1",oauth_timestamp="1636327502",oauth_token="htc3NQK%2FiVCHvmCmoYKWOcaXwfEywTHnB0u7CGaVx5s%3D",oauth_version="1.0",oauth_signature="3CCu0ZK9JLLDLbV%2F4iCllgFCngk%3D"'}
Response Body: {"AccountListResponse":{"Accounts":{"Account":[{"accountId":"82314598","accountIdKey":"dBZOKt9xDrtRSAOl4MSiiA","accountMode":"IRA","accountDesc":"Brokerage","accountName":"NickName-1","accountType":"MARGIN","institutionType":"BROKERAGE","accountStatus":"ACTIVE","closedDate":0},{"accountId":"58315636","accountIdKey":"vQMsebA1H5WltUfDkJP48g","accountMode":"BROKERAGE","accountDesc":"Complete Savings","accountName":"NickName-2","accountType":"INDIVIDUAL","institutionType":"BROKERAGE","accountStatus":"ACTIVE","closedDate":0},{"accountId":"70700418","accountIdKey":"6_Dpy0rmuQ9cu9IbTfvF2A","accountMode":"CASH","accountDesc":"INDIVIDUAL","accountName":"NickName-3","accountType":"INDIVIDUAL","institutionType":"BROKERAGE","accountStatus":"ACTIVE","closedDate":0},{"accountId":"83515143","accountIdKey":"xj1Dc18FTqWPqkEEVUr5rw","accountMode":"CASH","accountDesc":"INDIVIDUAL","accountName":"","accountType":"CASH","institutionType":"BROKERAGE","accountStatus":"CLOSED","closedDate":1521027780}]}}}

Request URL: https://apisb.etrade.com/v1/accounts/dBZOKt9xDrtRSAOl4MSiiA/balance
Request Header: {'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'accept': 'application/json', 'Connection': 'keep-alive', 'content-type': 'application/json', 'Cookie': 'JSESSIONID=58CF7D4E69AA16CDD94D2A0C47A4C0E4.tomcat4', 'Authorization': 'OAuth realm="",oauth_consumer_key="446d4733ce18ece2205c1e1ee1d4578e",oauth_nonce="a71c8ad923e83f0c675a68bda7e7d31fa8db4f15",oauth_signature_method="HMAC-SHA1",oauth_timestamp="1636327502",oauth_token="htc3NQK%2FiVCHvmCmoYKWOcaXwfEywTHnB0u7CGaVx5s%3D",oauth_version="1.0",oauth_signature="GnJE4rtcRaQG9VAVFVeQs5ae%2ByI%3D"'}
Response Body: <!DOCTYPE html><html><head><title> - Error report</title><style type="text/css">H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}.line {height: 1px; background-color: #525D76; border: none;}</style> </head><body><h1>HTTP Status 500 - </h1><div class="line"></div><p><b>type</b> Status report</p><p><b>message</b> <u></u></p><p><b>description</b> <u>The server encountered an internal error that prevented it from fulfilling this request.</u></p><hr class="line"><h3></h3></body></html>

Request URL: https://apisb.etrade.com/v1/accounts/dBZOKt9xDrtRSAOl4MSiiA/balance?instType=BROKERAGE
Request Header: {'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'accept': 'application/json', 'Connection': 'keep-alive', 'content-type': 'application/json', 'Cookie': 'JSESSIONID=58CF7D4E69AA16CDD94D2A0C47A4C0E4.tomcat4', 'Authorization': 'OAuth realm="",oauth_consumer_key="446d4733ce18ece2205c1e1ee1d4578e",oauth_nonce="3ec628d832e1cd4260663169f5f767a5b544364c",oauth_signature_method="HMAC-SHA1",oauth_timestamp="1636327503",oauth_token="htc3NQK%2FiVCHvmCmoYKWOcaXwfEywTHnB0u7CGaVx5s%3D",oauth_version="1.0",oauth_signature="Kq0aaz2KzgEaL7rkEnUDg5Cb8NA%3D"'}
Response Body: <Error>
  <message>oauth_problem=signature_invalid</message>
</Error>

Request URL: https://apisb.etrade.com/v1/accounts/dBZOKt9xDrtRSAOl4MSiiA/transactions
Request Header: {'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'accept': 'application/json', 'Connection': 'keep-alive', 'content-type': 'application/json', 'Cookie': 'JSESSIONID=58CF7D4E69AA16CDD94D2A0C47A4C0E4.tomcat4', 'Authorization': 'OAuth realm="",oauth_consumer_key="446d4733ce18ece2205c1e1ee1d4578e",oauth_nonce="2d7325d02634d9711bfb8268bfb9eaf977e23e15",oauth_signature_method="HMAC-SHA1",oauth_timestamp="1636327503",oauth_token="htc3NQK%2FiVCHvmCmoYKWOcaXwfEywTHnB0u7CGaVx5s%3D",oauth_version="1.0",oauth_signature="fDWPE2fLeTTq0oWSvIHvLg8zlxw%3D"'}
Response Body: {"TransactionListResponse":{"next":"","marker":"","pageMarkers":"%3C%21%5BCDATA%5BeNptkVsOwiAQRf%2B7ii5ALVjrIyEkRn9M1BjtBpCO2miLUmri7h3aYn2R8DH3Hobh4rONOMJMlblZ5DOhVVnAhVMW%2FJM9n8XKiMsWpNJJ5XKK7I%2FowFcT7qhWQcYW6zLbg97BrYRcAicd0qG4ST3Bl%2Bv59aFFskwL26KpV0KfQVe1z6ZSVnMnfBxGg2E06rOg1Rxj0ntqHijQkEZhn9gVDqlFX1bNxlrk5nHFsRPglIzxJe9KC8Uo7U5KmzkUklulOICu8U%2BvGSKrgujS3mSC92ZNLOgEX496S8r9TVN5jnaRPAHHYZXa%5D%5D%3E\n\t","moreTransactions":false,"transactionCount":11,"totalCount":11,"Transaction":[{"transactionId":"13153200000361","accountId":"83359700","transactionDate":1370286190,"postDate":0,"amount":-1.99,"description":"TRANSFER TO XXXXXX8683 REFID:72168131;","transactionType":"Transfer","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13150200000132","accountId":"83359700","transactionDate":1370002513,"postDate":0,"amount":-0.99,"description":"TRANSFER TO XXXXXX8683 REFID:72081131;","transactionType":"Transfer","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13150200000065","accountId":"83359700","transactionDate":1370000643,"postDate":0,"amount":-25,"description":"Brokerage ACH Stop Payment Fee","description2":"229255238131","transactionType":"Fee","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13147200000277","accountId":"83359700","transactionDate":1369774807,"postDate":0,"amount":-0.99,"description":"TRANSFER TO XXXXXX8683 REFID:71746131;","transactionType":"Transfer","memo":"This memo is from Neo","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13147200000215","accountId":"83359700","transactionDate":1369750535,"postDate":0,"amount":-9.47,"description":"TRANSFER TO XXXXXX8717 REFID:71744131;","transactionType":"Transfer","memo":"This memo is from Neo222222","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13147200000126","accountId":"83359700","transactionDate":1369743876,"postDate":0,"amount":50,"description":"TRANSFER FROM XXXXXX8709 REFID:71599131;","transactionType":"Transfer","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13143200000052","accountId":"83359700","transactionDate":1369397800,"postDate":0,"amount":-50,"description":"ISO 8583 Test Utility MALVERN PA US","description2":"100105230039","transactionType":"POS","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13143200000051","accountId":"83359700","transactionDate":1369397799,"postDate":0,"amount":-25,"description":"ISO 8583 Test Utility MALVERN PA US","description2":"100105230205","transactionType":"POS","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13143200000050","accountId":"83359700","transactionDate":1369397799,"postDate":0,"amount":-100,"description":"ISO 8583 Test Utility MALVERN PA US","description2":"100105235951","transactionType":"POS","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13142200000067","accountId":"83359700","transactionDate":1369311394,"postDate":0,"amount":-0.23,"description":"TRANSFER TO XXXXXX8725 REFID:71384131;","transactionType":"Transfer","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}},{"transactionId":"13126200001465","accountId":"83359700","transactionDate":1367962814,"postDate":0,"amount":-200,"description":"CHECK:700002 BILLPAY","transactionType":"Bill Payment","memo":"\n\t\t\t","imageFlag":false,"storeId":0,"brokerage":{"product":{},"quantity":0,"price":0,"settlementCurrency":"USD","paymentCurrency":"USD","fee":0,"displaySymbol":"","settlementDate":0}}]}}

Request URL: https://apisb.etrade.com/v1/market/optionchains?symbol=IBM
Request Header: {'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'accept': 'application/json', 'Connection': 'keep-alive', 'content-type': 'application/json', 'Cookie': 'JSESSIONID=58CF7D4E69AA16CDD94D2A0C47A4C0E4.tomcat4', 'Authorization': 'OAuth realm="",oauth_consumer_key="446d4733ce18ece2205c1e1ee1d4578e",oauth_nonce="2ae0e50a88548a613bbecc033487be3b19e9b399",oauth_signature_method="HMAC-SHA1",oauth_timestamp="1636327503",oauth_token="htc3NQK%2FiVCHvmCmoYKWOcaXwfEywTHnB0u7CGaVx5s%3D",oauth_version="1.0",oauth_signature="0BFf%2BDLaOJ88P35b4NUZqPnG2CA%3D"'}
Response Body: <Error>
  <message>oauth_problem=signature_invalid</message>
</Error>

Request URL: https://apisb.etrade.com/v1/market/optionexpiredate?symbol=IBM
Request Header: {'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'accept': 'application/json', 'Connection': 'keep-alive', 'content-type': 'application/json', 'Cookie': 'JSESSIONID=58CF7D4E69AA16CDD94D2A0C47A4C0E4.tomcat4', 'Authorization': 'OAuth realm="",oauth_consumer_key="446d4733ce18ece2205c1e1ee1d4578e",oauth_nonce="f704c9fd14bb0939ded5461bbe8e7ab8a55cfbcd",oauth_signature_method="HMAC-SHA1",oauth_timestamp="1636327503",oauth_token="htc3NQK%2FiVCHvmCmoYKWOcaXwfEywTHnB0u7CGaVx5s%3D",oauth_version="1.0",oauth_signature="MbFpfj92iyrlwuNZNIaAvhqwRR0%3D"'}
Response Body: <Error>
  <message>oauth_problem=signature_invalid</message>
</Error>